{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 1000,
  "height": 500,
  "projection": {"type": "equalEarth"},
  "background": "aliceblue",
  "layer": 
  [
    {
      "data": 
      {
        "url": "https://raw.githubusercontent.com/clow0007/FIT3179/main/VegaLite/Project_2_Data_Visualisation/js/italian_states.json",
        "format": 
        {
          "type": "topojson", 
          "feature": "ne_10m_admin_1_states_provinces"
        }
      },
      "mark": 
      {
        "type": "geoshape",
        "fill": "lightgray",
        "stroke": "white"
      }
    },
    
    {
      "data": 
      {
        "url": "https://raw.githubusercontent.com/clow0007/FIT3179/main/VegaLite/Week_9_Homework/data/whc-sites(tangibles)-2021.csv"
      },
      "transform": 
      [
        {
          "filter": "datum.iso_code == 'it'"
        }
      ],
      "selection": 
      {
        "category_highlight":
        {
          "type": "multi",
          "fields": ["category_long"],
          "bind": "legend"
        }
      },
      "mark": 
      {
        "type": "point"
      },
      "encoding": 
      {
        "opacity":
        {
          "condition":
          {
            "selection": "category_highlight",
            "value": 0.6
          },
          "value": 0.2
        },
        "longitude": 
        {
          "field": "longitude", 
          "type": "quantitative"
        },
        "latitude": 
        {
          "field": "latitude", 
          "type": "quantitative"
        },
        "color": 
        {
          "field": "category_long", 
          "title": "Site Category"
        },
        "tooltip":
        [
          {
            "field": "Name",
            "type": "nominal"
          },
          {
            "field": "category_long",
            "type": "nominal",
            "title": "Category"
          },
          {
            "field": "area_hectares",
            "type": "quantitative",
            "title": "Area (hectares)"
          },
          {
            "field": "short_description",
            "type": "nominal",
            "title": "Description"
          }
        ] 
      }
    }
  ]
}